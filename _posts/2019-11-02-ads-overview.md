---
layout: post
title: "广告系统漫谈"
date: 2019-11-02
---
广告系统是一个很泛的词， 针对某一些特定平台特定受众都会产生特定的广告系统。例如显示广告，搜索广告，视频广告。针对不同广告商的不同广告诉求，有品牌广告和效果广告。但是无论哪种广告，都离不开下面几个方面。

1. 管理模块：主要指针对广告主，提供的管理界面， 即广告主可以在其中设置自己的广告需要投放到哪些符合特征的用户身上。一般来说，广告主以及其代理人（广告公司）会将所有的广告分成campain，insertion order, placement, creative, 从左到右，是包含的关系。 campain包含insertion order，insertion order 包含placement等。 从特征上讲， 主要有页面（即广告主的广告要投放到哪些网站的哪些页面上。）， 时间（即广告主的广告是在黄金时间投放还是在特定的时间段投放），地理位置（这个好理解，就是特定地区，以及能够指代地理位置的东西，比如邮政编码）， 受众年龄， 受众洗好等。
2. 投放 投放是广告系统的核心，投放系统的设计更是核心中的核心。 首先，投放系统需要保证低延迟，高可用。这样才能给受众造成好印象。从技术上讲，也是考验开发人员高并发和分布式基础的地方。投放系统首先要能够快速检索出当前广告请求符合哪些广告主的订单，然后在符合特征的订单中找到当前最饥渴并且出价最高的订单（即完成这个订单最难）。 毕竟广告受众是有限的， 广告商为了能够抢到符合自己特征的用户，也必须要下血本的。广告投放后，还需跟踪受众是不是点击了这个广告，这个广告在页面上显示了多长时间然后被受众滚动到看不见的地方了等。
3. 预测 预测系统主要需要回答广告主，当前符合我（广告主）的受众有多少， 还有多少空闲的广告位，，这些广告位的竞争激烈程度怎么样？未来一段时间内这些广告位的变化趋势是什么样子的？ 我能不能完成我的广告投放计划？
4. 报表 报表就比较好理解了， 主要是impression等metric在各种维度各种条件下的数据。比如我的广告在A网站今天投了多少次啊， 受众点击了多少次，转化率是多少等。
5. 计费 当然就是利润分成了， 这部分主要看业务模式， 各不相同。
